<!DOCTYPE html>
<html lang="fr">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="./css/style.css">
    <title>Price Tracker</title>
    <style>
        #loader {
            width: 100vw;
            height: 100vh;
            background-color: #F7F6F4;
            position: absolute;
            z-index: 10000;
            top: 0;
            left: 0;
            display: grid;
            place-content: center;
        }

        .loader-spinner {
            display: inline-block;
            width: 80px;
            height: 80px;
        }

        .loader-spinner:after {
            content: " ";
            display: block;
            width: 64px;
            height: 64px;
            margin: 8px;
            border-radius: 50%;
            border: 6px solid #ff7257;
            border-color: #ff7257 transparent #ff7257 transparent;
            animation: spin 1.2s linear infinite;
        }

        @keyframes spin {
            0% {
                transform: rotate(0deg);
            }

            100% {
                transform: rotate(360deg);
            }
        }
    </style>
    <script src="https://cdn.jsdelivr.net/npm/vue/dist/vue.js"></script>

</head>

<body>
    <div id="app">
        <div id="loader">
            <div class="loader-spinner"></div>
        </div>
        <div class="container">
            <div class="sidebar">
                <div class="sidebar-content">
                    <h1>Price<br>Tracker</h1>
                    <div class="nav-content">
                        <a href="./index.html">
                            <button>
                                <svg viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                                    <path
                                        d="M3 9L12 2L21 9V20C21 20.5304 20.7893 21.0391 20.4142 21.4142C20.0391 21.7893 19.5304 22 19 22H5C4.46957 22 3.96086 21.7893 3.58579 21.4142C3.21071 21.0391 3 20.5304 3 20V9Z"
                                        stroke-width="2" stroke-linecap="round" stroke-linejoin="round" />
                                    <path d="M9 22V12H15V22" stroke-width="2" stroke-linecap="round"
                                        stroke-linejoin="round" />
                                </svg>
                                <span>Dashboard</span>
                            </button>
                        </a>
                        <a href="./product.html">
                            <button>
                                <svg viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                                    <path
                                        d="M9 22C9.55228 22 10 21.5523 10 21C10 20.4477 9.55228 20 9 20C8.44772 20 8 20.4477 8 21C8 21.5523 8.44772 22 9 22Z"
                                        stroke-width="2" stroke-linecap="round" stroke-linejoin="round" />
                                    <path
                                        d="M20 22C20.5523 22 21 21.5523 21 21C21 20.4477 20.5523 20 20 20C19.4477 20 19 20.4477 19 21C19 21.5523 19.4477 22 20 22Z"
                                        stroke-width="2" stroke-linecap="round" stroke-linejoin="round" />
                                    <path
                                        d="M1 1H5L7.68 14.39C7.77144 14.8504 8.02191 15.264 8.38755 15.5583C8.75318 15.8526 9.2107 16.009 9.68 16H19.4C19.8693 16.009 20.3268 15.8526 20.6925 15.5583C21.0581 15.264 21.3086 14.8504 21.4 14.39L23 6H6"
                                        stroke-width="2" stroke-linecap="round" stroke-linejoin="round" />
                                </svg>

                                <span>Mes Produits</span>
                            </button>
                        </a>

                        <a href="/add_product">
                            <button>
                                <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none"
                                    stroke="currentColor" stroke-width="2" stroke-linecap="round"
                                    stroke-linejoin="round" class="feather feather-plus-circle">
                                    <circle cx="12" cy="12" r="10"></circle>
                                    <line x1="12" y1="8" x2="12" y2="16"></line>
                                    <line x1="8" y1="12" x2="16" y2="12"></line>
                                </svg>

                                <span>Ajouter</span>
                            </button>
                        </a>
                    </div>

                    <div class="nav-footer">
                        <a @click="logout" >
                            <button>
                                <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"
                                    fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                                    stroke-linejoin="round" class="feather feather-log-out">
                                    <path d="M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"></path>
                                    <polyline points="16 17 21 12 16 7"></polyline>
                                    <line x1="21" y1="12" x2="9" y2="12"></line>
                                </svg>
                                <span>Deconnexion</span>
                            </button>
                        </a>

                    </div>
                </div>
            </div>
            <div class="content">
                <div class="profile content-card">
                    <div class="profile-name">
                        <img src="./assets/images/profile.jpeg" alt="profile-pic" id="profile-pic">
                        <div class="profile-name-text">
                            <h3>Hello, {{ user.name }}</h3>
                            <p>Have a nice Coffee</p>
                        </div>
                    </div>
                    <div class="search-input">
                        <input type="text" placeholder="Recherche par nom ou url..." name="url" id="url"
                            @keyup.enter="sendForm()" v-model="searchTerm">
                        <button type="submit"><svg width="20" height="20" viewBox="0 0 35 35" fill="none"
                                @click="sendForm()" xmlns="http://www.w3.org/2000/svg">
                                <path
                                    d="M16.0416 2.91669C23.2866 2.91669 29.1666 8.79669 29.1666 16.0417C29.1666 23.2867 23.2866 29.1667 16.0416 29.1667C8.79663 29.1667 2.91663 23.2867 2.91663 16.0417C2.91663 8.79669 8.79663 2.91669 16.0416 2.91669ZM16.0416 26.25C21.681 26.25 26.25 21.6811 26.25 16.0417C26.25 10.4009 21.681 5.83335 16.0416 5.83335C10.4008 5.83335 5.83329 10.4009 5.83329 16.0417C5.83329 21.6811 10.4008 26.25 16.0416 26.25ZM28.4156 26.3536L32.5412 30.4777L30.4777 32.5413L26.3535 28.4156L28.4156 26.3536Z"
                                    fill="#F65439" />
                            </svg></button>

                    </div>
                </div>
                <div class="product content-card">
                    <div class="card-title">
                        <svg width="57" height="77" viewBox="0 0 57 77" fill="none" xmlns="http://www.w3.org/2000/svg">
                            <path
                                d="M47.7065 21.6847H42.75V12.0815C42.75 8.15289 39.5536 4.95654 35.625 4.95654C31.6963 4.95654 28.5 8.15289 28.5 12.0815V21.6847H23.5435V12.0815C23.5435 5.41973 28.9632 0 35.625 0C42.2868 0 47.7065 5.41973 47.7065 12.0815V21.6847Z"
                                fill="#B3E59F" />
                            <path
                                d="M33.4565 21.6847H28.5V12.0815C28.5 8.15289 25.3037 4.95654 21.375 4.95654C17.4464 4.95654 14.25 8.15289 14.25 12.0815V21.6847H9.29346V12.0815C9.29346 5.41973 14.7132 0 21.375 0C28.0368 0 33.4565 5.41973 33.4565 12.0815V21.6847Z"
                                fill="#CCF49F" />
                            <path
                                d="M40.8913 21.6848V76.2064H1.50418C0.673504 76.2064 0 75.5329 0 74.7022V23.1889C0 22.3583 0.673504 21.6848 1.50418 21.6848H40.8913Z"
                                fill="#D57080" />
                            <path
                                d="M55.4958 21.6848H40.8912V76.2064H55.4958C56.3264 76.2064 57 75.5329 57 74.7022V23.1889C57 22.3583 56.3264 21.6848 55.4958 21.6848Z"
                                fill="#CB5769" />
                            <path
                                d="M50.2505 69.0116V21.6848H47.9504V68.9982L40.8912 74.7256V76.2064H42.7166L49.0864 71.0384L55.2159 76.2064H55.4958C56.3264 76.2064 57 75.5329 57 74.7022L50.2505 69.0116Z"
                                fill="#C63D4F" />
                        </svg>
                        <h3>Products</h3>
                    </div>
                    <span class="card-value">{{products.length}}</span>
                </div>
                <div class="deal content-card">
                    <div class="card-title">
                        <svg width="57" height="57" viewBox="0 0 57 57" fill="none" xmlns="http://www.w3.org/2000/svg">
                            <g clip-path="url(#clip0)">
                                <path
                                    d="M42.6342 53.4076V3.59171H1.1469C0.513445 3.5916 0 4.10515 0 4.73849V52.2607C0 52.8941 0.513445 53.4076 1.1469 53.4076H16.1034L21.3171 50.8064L26.5308 53.4075H42.6342V53.4076Z"
                                    fill="#ECC373" />
                                <path
                                    d="M55.8531 3.59147H42.6341V53.4086H55.8531C56.4865 53.4086 57 52.8951 57 52.2617V4.73837C57 4.10492 56.4865 3.59147 55.8531 3.59147Z"
                                    fill="#DAB46B" />
                                <path
                                    d="M46.3414 18.0279V38.9721C46.3414 39.587 46.8398 40.0854 47.4547 40.0854H52.1794C52.7942 40.0854 53.2926 39.587 53.2926 38.9721V18.0279C53.2926 17.4131 52.7942 16.9147 52.1794 16.9147H47.4547C46.8398 16.9147 46.3414 17.4131 46.3414 18.0279Z"
                                    fill="#CCF49F" />
                                <path
                                    d="M26.5305 53.4086V41.7236C26.5305 41.2256 26.0179 40.8925 25.5629 41.0948L21.5966 42.8576C21.4187 42.9366 21.2156 42.9366 21.0377 42.8576L17.0714 41.0948C16.6164 40.8925 16.1038 41.2256 16.1038 41.7236V53.4086H26.5305Z"
                                    fill="#F4E2C1" />
                                <path
                                    d="M55.8531 3.59147H53.9878V53.4086H55.8531C56.4866 53.4086 57 52.8951 57 52.2617V4.73837C57 4.10492 56.4866 3.59147 55.8531 3.59147Z"
                                    fill="#CBA763" />
                                <path
                                    d="M14.8293 12.7931H3.70735C3.2322 12.7931 2.84723 12.408 2.84723 11.9329V7.2988C2.84723 6.82376 3.23231 6.43867 3.70735 6.43867H14.8293C15.3044 6.43867 15.6894 6.82376 15.6894 7.2988V11.9329C15.6895 12.408 15.3044 12.7931 14.8293 12.7931Z"
                                    fill="#CCF49F" />
                                <path
                                    d="M6.16926 21.1143C6.00783 21.2756 5.78918 21.3662 5.56096 21.3662C5.33285 21.3662 5.11409 21.2756 4.95266 21.1143L3.09905 19.2607C2.76306 18.9248 2.76306 18.3802 3.09894 18.0442C3.43482 17.7082 3.97943 17.7082 4.31542 18.0442L4.70084 18.4296V15.6403C4.70084 15.1652 5.08592 14.7802 5.56096 14.7802C6.036 14.7802 6.42108 15.1652 6.42108 15.6403V18.4295L6.80628 18.0443C6.97427 17.8763 7.19437 17.7924 7.41457 17.7924C7.63467 17.7924 7.85488 17.8764 8.02287 18.0443C8.35875 18.3802 8.35875 18.9248 8.02287 19.2608L6.16926 21.1143Z"
                                    fill="#407093" />
                                <path
                                    d="M15.4375 19.2607L13.5839 21.1143C13.4225 21.2756 13.2039 21.3662 12.9756 21.3662C12.7475 21.3662 12.5288 21.2756 12.3673 21.1143L10.5137 19.2607C10.1777 18.9248 10.1777 18.3802 10.5136 18.0442C10.8495 17.7082 11.3941 17.7082 11.7301 18.0442L12.1155 18.4296V15.6403C12.1155 15.1652 12.5006 14.7802 12.9756 14.7802C13.4508 14.7802 13.8358 15.1652 13.8358 15.6403V18.4295L14.2209 18.0443C14.3889 17.8763 14.609 17.7924 14.8292 17.7924C15.0493 17.7924 15.2695 17.8764 15.4375 18.0443C15.7734 18.3802 15.7734 18.9247 15.4375 19.2607Z"
                                    fill="#407093" />
                            </g>
                            <defs>
                                <clipPath id="clip0">
                                    <rect width="57" height="57" fill="white" transform="matrix(1 0 0 -1 0 57)" />
                                </clipPath>
                            </defs>
                        </svg>

                        <h3>Meilleurs Deals</h3>
                    </div>
                    <span class="card-value">{{bestDeal?.priceDiff}}€</span>
                </div>
                <div class="eco content-card">
                    <div class="card-title">
                        <svg width="57" height="57" viewBox="0 0 57 57" fill="none" xmlns="http://www.w3.org/2000/svg">
                            <path
                                d="M50.9756 9.49997H7.41468C3.31969 9.49997 0 12.8197 0 16.9146V28.2683H53.2927V11.817C53.2927 10.5374 52.2553 9.49997 50.9756 9.49997Z"
                                fill="#2B4D66" />
                            <path
                                d="M53.2927 26.1829V22.9391C53.2927 21.6594 52.2553 20.622 50.9756 20.622H7.41468C5.36713 20.622 3.70734 18.9622 3.70734 16.9147V10.4945C1.49169 11.7766 0 14.1706 0 16.9147V26.1829H53.2927Z"
                                fill="#81A7C6" />
                            <path
                                d="M7.41461 0C5.39122 0 3.74646 1.62094 3.70794 3.63497C3.6682 5.71336 5.40904 7.41456 7.48776 7.41456H48.0791L49.5852 8.56147V1.1469C49.5852 0.513445 49.0717 0 48.4382 0L7.41461 0Z"
                                fill="#D8F1A0" />
                            <path
                                d="M49.5853 4.56744H7.41469C6.93965 4.56744 6.55457 4.18236 6.55457 3.70732C6.55457 3.23228 6.93965 2.8472 7.41469 2.8472H49.5854V4.56744H49.5853Z"
                                fill="#B3E59F" />
                            <path
                                d="M3.70728 3.70734V16.9146C3.70728 18.9622 5.36707 20.622 7.41461 20.622H49.5854V8.56146C49.5854 7.92801 49.0719 7.41456 48.4385 7.41456H7.41461C5.36707 7.41467 3.70728 5.75477 3.70728 3.70734Z"
                                fill="#B3E59F" />
                            <path
                                d="M46.5731 20.622H49.5853V8.56145C49.5853 7.928 49.0719 7.41455 48.4384 7.41455H46.5731V20.622Z"
                                fill="#95D6A4" />
                            <path
                                d="M0 16.9146C0 21.0101 3.31925 24.3293 7.41468 24.3293H50.9757C52.2554 24.3293 53.2928 25.3667 53.2928 26.6464V54.6829C53.2928 55.9626 52.2554 57 50.9757 57H7.41468C3.31969 57 0 53.6803 0 49.5853L0 16.9146Z"
                                fill="#407093" />
                            <path
                                d="M50.9757 24.3293H47.5C48.7797 24.3293 49.8171 25.3667 49.8171 26.6464V30.8171C49.8171 31.4569 49.2984 31.9756 48.6586 31.9756H47.8411C43.1213 31.9756 39.2049 35.7445 39.1591 40.4641C39.1129 45.23 42.9764 49.1219 47.7318 49.1219H48.6586C49.2984 49.1219 49.8171 49.6406 49.8171 50.2804V54.6828C49.8171 55.9625 48.7797 56.9999 47.5 56.9999H50.9757C52.2554 56.9999 53.2928 55.9625 53.2928 54.6828V26.6464C53.2928 25.3667 52.2554 24.3293 50.9757 24.3293Z"
                                fill="#365E7D" />
                            <path
                                d="M54.6829 46.1098H47.7317C44.6605 46.1098 42.1708 43.62 42.1708 40.5488C42.1708 37.4776 44.6605 34.9879 47.7317 34.9879H54.6829C55.9627 34.9879 57 36.0252 57 37.3049V43.7927C57 45.0724 55.9627 46.1098 54.6829 46.1098Z"
                                fill="#2B4D66" />
                            <path
                                d="M47.7317 42.4024C48.7554 42.4024 49.5853 41.5725 49.5853 40.5488C49.5853 39.5251 48.7554 38.6952 47.7317 38.6952C46.7079 38.6952 45.8781 39.5251 45.8781 40.5488C45.8781 41.5725 46.7079 42.4024 47.7317 42.4024Z"
                                fill="#FFE07D" />
                            <path
                                d="M42.7242 20.622V17.7195C39.7425 17.3328 37.3735 14.9638 36.9868 11.9821H10.4268C9.95173 11.9821 9.56665 11.5971 9.56665 11.122C9.56665 10.647 9.95173 10.2619 10.4268 10.2619H37.7916C38.2666 10.2619 38.6517 10.647 38.6517 11.122C38.6517 13.8419 40.8644 16.0545 43.5842 16.0545C44.0592 16.0545 44.4443 16.4396 44.4443 16.9146V20.622H42.7242Z"
                                fill="#95D6A4" />
                        </svg>

                        <h3>Economies</h3>
                    </div>
                    <span class="card-value">{{totalSaving}}€</span>
                </div>
                <div class="chartdiv graph content-card"></div>
            </div>
        </div>
    </div>

    <script src="https://cdn.amcharts.com/lib/4/core.js"></script>
    <script src="https://cdn.amcharts.com/lib/4/charts.js"></script>
    <script src="./scripts/app.js" type="module"></script>
    <script src="https://cdn.amcharts.com/lib/4/themes/animated.js"></script>
</body>

</html>